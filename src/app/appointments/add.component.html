<h1>Add Appointment</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-row">
    <div class="form-group col">
      <label for="name">Name </label>
      <input type="text" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
      <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
        <div *ngIf="f.name.errors.required">Name is required</div>
      </div>
    </div>
    <div class="form-group col">
      <label for="dateTime">DateTime</label>
      <input type="datetime-local" name="DateTime" formControlName="dateTime" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.dateTime.errors }"/>
      <div *ngIf="submitted && f.dateTime.errors" class="invalid-feedback">
        <div *ngIf="f.dateTime.errors.required">DateTime is required</div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col">
      <label for="mobileNo">MobileNo</label>
      <input type="text" formControlName="mobileNo" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.mobileNo.errors }" />
      <div *ngIf="submitted && f.mobileNo.errors" class="invalid-feedback">
        <div *ngIf="f.mobileNo.errors.required">MobileNo is required</div>
      </div>
    </div>
    <div class="form-group col">
      <label for="services">Services</label>
      <div class="form-group"  >
        <div class="form-check form-check-inline"  *ngFor="let item of users">
          <input class="form-check-input " type="checkbox" formControlName="services"  (change)="onChange(item.serviceId, $event.target.checked)" [value]="item.serviceId" >
          <label class="form-check-label ">{{item.serviceName}}</label>
        </div>
    </div>
  </div>
  <!-- <ng-multiselect-dropdown
  [placeholder]="'Services placeholder'"
  [settings]="dropdownSettings"
  [data]="users" 
  formControlName="services"
  (onSelect)="onItemSelect($event)"
  (onDeSelect)="onItemDeSelect($event)"
  (onSelectAll)="onSelectAll($event)"
  (onDeSelectAll)="onDeSelectAll($event)">
</ng-multiselect-dropdown> -->
  </div>
  <div class="form-row">
    <div class="form-group col">
      <label for="gender">Gender</label>
      <div class="form-group"  >
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" formControlName="gender" value="Male"   >
        <label class="form-check-label" for="gender">Male</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" formControlName="gender" value="Female"  >
        <label class="form-check-label" for="gender">Female</label>
      </div>
      <div *ngIf="submitted && f.gender.errors?.required" class="invalid-field" >
        <div *ngIf="f.gender.errors.required" style="color: #dc3545;" >Gender is required</div> 
      </div>
      <!-- <div class="invalid-field" *ngIf="submitted && fSite.siteCountry.errors?.required">
        Please select country
      </div> -->
    </div>
    </div>
    <div class="form-group col">
      <label for="status">
        Status
      </label>
      <div class="form-group">
      <select class="form-select form-select-lg mb-3"  formControlName="status" >
        <option selected disabled value="">Status</option>
        <option value="Yes" >Yes</option>
        <option value="No">No</option>     
      </select>
      <div *ngIf="submitted && f.status.errors?.required" class="invalid-field" style="color: #dc3545;" >
       Status is required 
      </div>
    </div>
    </div>
  </div> 
  <div class="form-group">
    <button [disabled]="loading" class="btn btn-primary">
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Save
    </button>
    <a routerLink="/appointments" class="btn btn-link">Cancel</a>
  </div>
</form>
{{emailFormArray | json}}

